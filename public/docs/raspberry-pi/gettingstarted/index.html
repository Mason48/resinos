<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Resinos - Getting Started on the Raspberry Pi 1</title>
    <meta property="og:title" content="resinOS"/>
    <meta property="og:image" content="https://resinos.io/images/misc/resin-os.png"/>
    <meta property="og:site_name" content="A host OS tailored for containers, designed for reliability, proven in production"/>
    <meta property="og:description" content="Run Docker containers on embedded devices" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon/32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon/16x16.png">
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:400italic,400,600|Montserrat:400,600">
    <!-- your generated css -->
    <link rel="stylesheet" href="/main.min.css?v=1.1">
    
<script src="https://use.typekit.net/eic0uah.js"></script>
<script>try{Typekit.load({ async: true });}catch(e){}</script>

<script src="https://use.fontawesome.com/2718a8b9d2.js"></script>
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/styles/atom-one-dark.min.css">

  </head>
  <body data-spy="scroll" data-target=".in-page-nav">
    <nav class="navbar bg-dark bg-inverse navbar-fixed-top">
  <div class="container">
    <div class="nav__claim row">
      <div class="pull-md-right">
        <span class="nav__claim__items">an open source project by</span>
        <a data-track="link click" data-track-meta='{ "title": "Resin.io", "href": "https://resin.io", "position": "nav" }' target="_blank" href="https://resin.io"><img class="nav__claim__items" alt="resin.io" src="/images/logos/company.png" srcset="/images/logos/company@2x.png 2x"></a>
      </div>
    </div>
    <div class="row">
      <a data-track="link click" data-track-meta='{ "title": "logo", "href": "/" , "position": "nav" }' class="navbar-brand" href="/"><img class="footer__brand__items" alt="{ repo.name }" src="/images/logos/project.png" srcset="/images/logos/project@2x.png 2x"></a>
      <button class="navbar-toggler hidden-md-up pull-xs-right" type="button" data-toggle="collapse" data-target="#nav-items" aria-controls="nav-items" aria-expanded="false" aria-label="Toggle navigation">
        &#9776;
      </button>
      <div class="collapse navbar-toggleable-sm pull-sm-left pull-md-right" id="nav-items">
        <ul class="nav navbar-nav">
          
<li class="nav-item">
  <a class="nav-link" data-track="link click" data-track-meta='{ "title": "Docs", "href": "/docs", "position": "nav" }' href="/docs">
    Docs
  </a>
</li>

<li class="nav-item">
  <a class="nav-link" data-track="link click" data-track-meta='{ "title": "Getting Started", "href": "/docs/raspberry-pi2/gettingstarted/", "position": "nav" }' href="/docs/raspberry-pi2/gettingstarted/">
    Getting Started
  </a>
</li>

<li class="nav-item">
  <a class="nav-link" data-track="link click" data-track-meta='{ "title": "Features", "href": "/#features", "position": "nav" }' href="/#features">
    Features
  </a>
</li>

<li class="nav-item">
  <a class="nav-link" data-track="link click" data-track-meta='{ "title": "Downloads", "href": "/#downloads", "position": "nav" }' href="/#downloads">
    Downloads
  </a>
</li>

<li class="nav-item">
  <a class="nav-link" data-track="link click" data-track-meta='{ "title": "Get Involved", "href": "/#milestones", "position": "nav" }' href="/#milestones">
    Get Involved
  </a>
</li>

<li class="nav-item">
  <!-- <a data-track="link click" data-track-attr='{ "title": "github", "href": "", "position": "nav" }' class="nav-link" href="https://github.com/resin-os/meta-resin">
    <i class="fa fa-github-alt fa--border fa-2"></i>
  </a> -->
  <a class="nav-link github-button" href="https://github.com/resin-os/meta-resin" data-style="mega" data-count-href="/resin-os/meta-resin/stargazers" data-count-api="/repos/resin-os/meta-resin#stargazers_count" data-count-aria-label="# stargazers on GitHub" aria-label="Star resin-os/meta-resin on GitHub">Star</a>
</li>

        </ul>
      </div>
    </div>
  </div>
</nav>

    <section class="page-content page-content--Getting Started on the Raspberry Pi 1">
      
<div class="docs">
  <div class="container docs__container">
    <div class="docs__sidebar col-md-3">
      <div data-spy="affix" data-offset-top="60" data-offset-bottom="200">
        <div class="search-wrapper">
          <form action="/search-results">
  <input name="searchTerm" type="text" class="form-control search__input" placeholder="Search Docs..." value="">
</form>

        </div>
        



<nav class="docs__navigation">
  
  <div class="docs__nav-menu">
    
      <h5 class="active">
        <a href="/docs/artik5/gettingstarted">
          Getting Started
        </a>
      </h5>
      
  
    <ul class="docs__nav-menu__nav">
      
        
          
        
        <li class="active">
          <a href="/docs/raspberry-pi/gettingstarted">
            Getting Started on Raspberry Pi 1
          </a>
        </li>
        
          <div class="in-page-nav">
            <ul class="expand nav">
              
                <li><a href="#download-an-image">Download an Image</a></li>
              
                <li><a href="#install-resin-device-toolbox">Install Resin Device Toolbox</a></li>
              
                <li><a href="#configure-the-image">Configure the Image</a></li>
              
                <li><a href="#get-the-device-up-and-running">Get the Device Up and Running</a></li>
              
                <li><a href="#running-your-first-container">Running your first Container</a></li>
              
                <li><a href="#poking-around-resinos">Poking Around resinOS</a></li>
              
                <li><a href="#going-further">Going Further</a></li>
              
                <li><a href="#creating-a-project-from-scratch">Creating a Project from Scratch</a></li>
              
            </ul>
          </div>
        
        
  

      
    </ul>
  

    
      <h5 class="">
        <a href="/docs/architecture">
          Architecture
        </a>
      </h5>
      
  

    
      <h5 class="">
        <a href="/docs/custombuild">
          Build Your Own
        </a>
      </h5>
      
  

    
      <h5 class="">
        <a href="/docs/supportedboards">
          Supported Boards
        </a>
      </h5>
      
  

    
      <h5 class="">
        <a href="/docs/contrib">
          Contributing
        </a>
      </h5>
      
  

    
      <h5 class="">
        <a href="/docs/faqs">
          FAQs
        </a>
      </h5>
      
  

    
  </div>

</nav>

      </div>
    </div>

    <article class="col-md-9">
      <div class="docs__header-wrapper">
        <ol class="breadcrumb">
  
  
    <li >
      Getting Started
       / 
    </li>
  
    <li class="active">
      Getting Started on Raspberry Pi 1
      
    </li>
  
</ol>

      </div>
      
        <div class="dynamic-switch well">
          



<div class="form-inline js-dynamic-switch"
  data-url-template="/docs/$device/gettingstarted">
  <div class="form-group">
    
      
        
  <span>Getting Started with</span>

      
    
      
        
  <select name="$device" class="form-control dynamic-switch__select">
    
      <option
        value="artik5"
        >
        ARTIK 520
      </option>
    
      <option
        value="artik10"
        >
        ARTIK 1020
      </option>
    
      <option
        value="beaglebone-black"
        >
        Beaglebone
      </option>
    
      <option
        value="beaglebone-green"
        >
        Beaglebone Green
      </option>
    
      <option
        value="beaglebone-green-wifi"
        >
        Beaglebone Green Wireless
      </option>
    
      <option
        value="cubox-i"
        >
        HummingBoard i2
      </option>
    
      <option
        value="intel-nuc"
        >
        Intel NUC
      </option>
    
      <option
        value="odroid-c1"
        >
        Odroid C1/C1+
      </option>
    
      <option
        value="odroid-xu4"
        >
        Odroid xu4
      </option>
    
      <option
        value="odroid-ux3"
        >
        Odroid XU4
      </option>
    
      <option
        value="raspberry-pi"
        selected>
        Raspberry Pi 1
      </option>
    
      <option
        value="raspberry-pi2"
        >
        Raspberry Pi 2
      </option>
    
      <option
        value="raspberrypi3"
        >
        Raspberry Pi 3
      </option>
    
      <option
        value="via-vab820-quad"
        >
        VIA vab820
      </option>
    
      <option
        value="zynq-xz702"
        >
        Zynq Board XZ702
      </option>
    
      <option
        value="colibri-imx6dl"
        >
        Colibri imx6dl
      </option>
    
      <option
        value="Hummingboard"
        >
        hummingboard
      </option>
    
      <option
        value="ts4900"
        >
        ts4900
      </option>
    
      <option
        value="ts7700"
        >
        ts7700
      </option>
    
      <option
        value="nitrogen6x"
        >
        Nitrogen 6x
      </option>
    
      <option
        value="parallella"
        >
        Parallella
      </option>
    
  </select>

      
    
  </div>
</div>

        </div>
      
      <section class="docs__content">
        
          
        
        
          <h1 id="getting-started-on-the-raspberry-pi-1">Getting Started on the Raspberry Pi 1</h1>
<p>In resinOS all application logic and services are encapsulated in docker containers. In this getting started guide we will walk you through setting up one of our pre-built development OS images and creating a simple application container. In the guide we will use a tool called <code>rdt</code> (A.K.A Resin Device Tool) to make things super easy. However, for those that like to do things the hard way, we got you covered as well.</p>
<h2 id="download-an-image">Download an Image</h2>
<p>To get a resinOS device setup, we will first need to flash a system image on to the device, so head over to <a href="https://resinos.io/#downloads">resinos.io</a> and grab the development OS for your board. Currently resinOS supports 20 different boards and several different architectures. See the <a href="/docs/supportedboards/">Supported Boards</a> section for more details.</p>
<p>Once the download is finished, make sure to decompress it and keep it somewhere safe, we will need it very soon!</p>
<pre><code class="lang-bash">$ wget https://files.resin.io/images/raspberry-pi/2.0.0-beta.1/resin-dev.zip
</code></pre>
<h2 id="install-resin-device-toolbox">Install Resin Device Toolbox</h2>
<p><code>rdt</code> or Resin Device Toolbox, is a collection of utilities which helps us to develop resinOS based application containers. It’s not strictly necessary, but makes life so so much sweeter, but if you like doing things the hard way, skip over to the next section.</p>
<p>Currently <code>rdt</code> is a node.js based command line tool which requires that our system has the following dependencies installed and in our path:</p>
<ul>
<li><a href="https://nodejs.org/en/">node.js 6.x</a></li>
<li><a href="https://www.npmjs.com/">npm package manager</a></li>
<li><a href="https://download.samba.org/pub/rsync/rsync.html">rsync</a></li>
<li><a href="http://www.openssh.com/">ssh</a></li>
</ul>
<p>Once we have those setup we can install <code>rdt</code> using npm:</p>
<pre><code class="lang-bash">$ npm install -g resin-device-toolbox
</code></pre>
<h2 id="configure-the-image">Configure the Image</h2>
<p>To allow resinOS images to be easily configurable before boot, some key config files are added to boot partition. In this step we will use <code>rdt</code> to configure the network, set our hostname to <code>resin</code> and disable persistent logging, because we don’t want to kill our poor flash storage with excessive writes.</p>
<pre><code class="lang-bash">$ rdt configure ~/Downloads/resinos-dev.img
? Network SSID super_wifi
? Network Key super secure password
? Do you want to set advanced settings? Yes
? Device Hostname resin
? Do you want to enable persistent logging? no
Done!
</code></pre>
<p>If you are not using <code>rdt</code>, you will need to mount the boot partition of the image and edit the configuration manually.</p>
<p>Edit <code>/boot/config.json</code> so it looks like this:</p>
<pre><code class="lang-json">{
  &quot;persistentLogging&quot;: false,
  &quot;hostname&quot;: &quot;resin&quot;,
}
</code></pre>
<p>And edit the <code>ssid</code> and <code>psk</code> values in the <code>/boot/system-connections/resin-sample</code> connection file.</p>
<pre><code>[connection]
id=resin-sample
type=wifi

[wifi]
mode=infrastructure
ssid=I_Love_Unicorns

[wifi-security]
auth-alg=open
key-mgmt=wpa-psk
psk=superSecretPassword

[ipv4]
method=auto

[ipv6]
addr-gen-mode=stable-privacy
method=auto
</code></pre><h2 id="get-the-device-up-and-running">Get the Device Up and Running</h2>
<p>Okay, so now we have a fully configured image ready to go, so let’s burn and boot this baby. For this step <code>rdt</code> provides a handy flashing utility, you can however flash this image using etcher.io or <code>dd</code> if you must.</p>
<h3 id="flash-sd-card">Flash SD card</h3>
<p>To get flashing, just point the <code>rdt flash</code> command to the image we just downloaded and follow the prompts. If you hate prompts, <code>rdt</code> also allows you to skip them, check the <a href="https://resinos.io/docs/architecture/#resin-device-toolbox"><code>rdt</code> docs</a> on how to do this.</p>
<p><strong>NOTE:</strong> <code>rdt flash</code> requires administrative privileges because it needs to access the SD card.</p>
<pre><code class="lang-bash">$ sudo rdt flash ~/Downloads/resinos-dev.img
Password:
x No available drives were detected, plug one in!
</code></pre>
<p>Once you plug in your SD card, <code>rdt</code> should detect it and show you the following selection dialog. Make sure to select the correct drive if you have a few listed, as <code>rdt</code> will completely write over the entire drive.</p>
<pre><code class="lang-bash">$ sudo rdt flash ~/Downloads/resinos-dev.img
Password:
? Select drive (Use arrow keys)
❯ /dev/disk3 (7.9 GB) - STORAGE DEVICE
</code></pre>
<p>Once you are happy you have selected the correct drive, hit enter and wait while your new OS is written to the drive.
It should only take about 3 minutes, depending on the quality of your drive, so this is a great time to go grab a caffeinated beverage.</p>
<pre><code class="lang-bash">$ sudo rdt flash ~/Downloads/resinos-dev.img
? Select drive /dev/disk3 (7.9 GB) - STORAGE DEVICE
? This will erase the selected drive. Are you sure? Yes
Flashing [========================] 100% eta 0s  
Validating [========================] 100% eta 0s
</code></pre>
<h3 id="boot-the-device">Boot the device</h3>
<p>Insert the SD card into the Raspberry Pi 1 and connect either the ethernet cable or the USB WiFi adapter. Now power up the Raspberry Pi 1 by inserting the micro USB cable.</p>
<p><img src="/images/docs/gifs/insert-sd.gif" alt="insert SD"></p>
<p><strong>Note:</strong> Class 4 SD cards can take up to 3 times longer so it&#39;s well worth investing in the fastest card you can find.</p>
<p>After about 30 seconds or so your device should be up and connected to your local network, you should see it broadcasting itself as <code>resin.local</code>. To check this, let’s try ping the device.</p>
<pre><code class="lang-bash">$ ping resin.local
PING 192.168.1.111 (192.168.1.111): 56 data bytes
64 bytes from 192.168.1.111: icmp_seq=0 ttl=64 time=103.674 ms
64 bytes from 192.168.1.111: icmp_seq=1 ttl=64 time=9.723 ms
^C
--- 192.168.1.111 ping statistics ---
6 packets transmitted, 6 packets received, 0.0% packet loss
round-trip min/avg/max/stddev = 7.378/24.032/103.674/35.626 ms
</code></pre>
<p>Now if we want to poke around a bit inside resinOS we can just ssh in with:</p>
<pre><code class="lang-bash">$ ssh root@resin.local -p22222
root@resin:~# uname -a
Linux resin 4.1.21 #1 SMP Fri Oct 7 23:37:01 CEST 2016 armv7l GNU/Linux
root@resin:~# docker info
Containers: 1
 Running: 0
 Paused: 0
 Stopped: 1
Images: 7
Server Version: 1.10.3
Storage Driver: aufs
 Root Dir: /var/lib/docker/aufs
 Backing Filesystem: extfs
 Dirs: 22
 Dirperm1 Supported: true
Execution Driver: native-0.2
Logging Driver: journald
Plugins:
 Volume: local
 Network: null host bridge
Kernel Version: 4.1.21
Operating System: Resin OS 1.16.1
OSType: linux
Architecture: armv7l
CPUs: 4
Total Memory: 972.5 MiB
Name: resin
ID: FOZ2:5KHG:RTSS:UQ7S:F2J6:QYLL:MERX:5ZVU:4WVL:3G2G:T2YA:LX3D
</code></pre>
<h2 id="running-your-first-container">Running your first Container</h2>
<h3 id="clone-a-demo-project">Clone a demo Project</h3>
<pre><code class="lang-bash">$ git clone https://github.com/resin-io-playground/resinos-sample
</code></pre>
<h3 id="get-a-container-running">Get a Container Running</h3>
<pre><code class="lang-bash">$ rdt push resin -s .
</code></pre>
<h2 id="poking-around-resinos">Poking Around resinOS</h2>
<p>To help explore resinOS devices and application containers more easily, <code>rdt</code> has an ssh command which will help you connect either to the HostOS or a running container on the device.</p>
<h4 id="to-ssh-into-the-host-">To ssh into the host:</h4>
<pre><code class="lang-bash">$ rdt ssh --host
</code></pre>
<p><strong>OR</strong></p>
<pre><code class="lang-bash">$ ssh root@resin.local -p22222
</code></pre>
<h4 id="to-ssh-into-a-particular-container-">To ssh into a particular container:</h4>
<pre><code class="lang-bash">$ rdt ssh resin.local
</code></pre>
<p><strong>OR</strong></p>
<pre><code class="lang-bash">$ ssh root@resin.local -p22222
root@resin:~# docker exec -it myapp bash
</code></pre>
<h2 id="going-further">Going Further</h2>
<h3 id="advanced-settings">Advanced Settings</h3>
<p>Either mount the SD card and run:</p>
<pre><code class="lang-bash">$ rdt configure /path/to/drive
</code></pre>
<p>And select <code>y</code> when asked if you want to add advanced settings.</p>
<p>Alternatevely you can add <code>“persistentLogging”: true</code> to <code>config.json</code> in your boot partition of the SD card.</p>
<p>To Enable persistent logs in a running device, add <code>“persistentLogging”: true</code> to <code>/mnt/boot/config.json</code> and reboot.</p>
<p>The journal can be found at  <code>/var/log/journal/</code> which is bind mounted to <code>root-overlay/var/log/journal</code> in the <code>resin-conf</code> partition.
When logging is not persistent, the logs can be found at <code>/run/log/journal/</code> and this log is volatile so you will loose all logs when you power the device down.</p>
<h2 id="creating-a-project-from-scratch">Creating a Project from Scratch</h2>
<p>Alright! So we have an awesome container machine up and running on our network. So let’s start pushing some application containers onto it. In this section we will do a quick walk through of setting up a dockerfile and make a simple little node.js webserver.</p>
<p>To get started, let’s create a new project directory called “myapp” and create a new file called <code>Dockerfile</code>.</p>
<pre><code class="lang-bash">$ mkdir -p myapp &amp;&amp; touch Dockerfile
</code></pre>
<p>Now we will create a minimal node.js container based on the slim <a href="link-to-alpine">Alpine Linux distro</a>. We do this by adding the following lines to our Dockerfile.</p>
<pre><code class="lang-Dockerfile">FROM resin/raspberry-pi-alpine-node:slim
CMD [“cat”, “/etc/os-release”]
</code></pre>
<p>The <code>FROM</code> tells docker what our container will be based on. In this case an Alpine Linux userspace with just the bare essentials needed for the node.js runtime. The <code>CMD</code> just defines what our container runs on startup. In this case, it’s not very exciting yet.</p>
<p>Now to get our application running on our device we can use the <code>rdt push</code> functionality.</p>
<pre><code class="lang-bash">$ rdt push --source .
* Building..
- Stopping and Removing any previous &#39;myapp&#39; container
- Removing any existing container images for &#39;myapp&#39;
- Building new &#39;myapp&#39; image
Step 1 : FROM resin/raspberry-pi-alpine-node:slim
Pulling from resin/raspberry-pi-alpine-node
Pulling fs layer
Verifying Checksum=============================================&gt;]     32 B/32 B7 MB
Download complete
Verifying Checksum=============================================&gt;] 1.987 MB/1.987 MB
Pull complete=================================================&gt;]    12 MB/12 MB
Pull complete
Digest: sha256:410a5add3aa281d97afea1ae4fcdbec203c69ea34faea8d84349456c211f33a3
Status: Downloaded newer image for resin/raspberry-pi-alpine-node:slim
 ---&gt; bf37b6350e63
Step 2 : CMD [“cat”, “/etc/os-release”]
 ---&gt; Running in a376f4a781d5
 ---&gt; a3c2c42b1212
Removing intermediate container a376f4a781d5
Successfully built a3c2c42b1212
- Creating &#39;myapp&#39; container
- Starting &#39;myapp&#39; container

resin push completed successfully!
</code></pre>
<p>This command will discover your resinOS-dev device on the network and start a build of whatever you have in the <code>--source</code> directory. In the example above, we have just told it to build from the root of the directory we are in, in this case <code>myapp</code>.</p>
<p>A number of things have happened in this step, so let’s pause here and dig in a little more. When we first run <code>rdt push</code> we are asked to define a name for our app and after that, it starts a docker build on your device. At the same time, <code>rdt</code> has added a file to our project called <code>.resin-sync.yml</code> which stores all the default for <code>rdt</code>. Let’s have a quick look at that:</p>
<pre><code class="lang-yml">local_resinos:
  app-name: myapp
  build-triggers:
    - Dockerfile: 6275495dc9620c3c74aa5a25ef29bbb109fbcb4e46de941b14235aeea02cc184
</code></pre>
<p>We can see that for our local resinOS device we have an app called “myapp” which will map over to a docker image and container on our device. The next interesting section is build-triggers. This is a list of files and their hashes, which will result in a docker build. In our case it’s just the <code>Dockerfile</code>, so when we change things here, <code>rdt</code> will rebuild our app. This will be important a bit later.</p>
<p>So now that we are building, let’s start adding some actual code! We will just add <code>main.js</code> file in the root of our <code>myapp</code> directory.</p>
<pre><code class="lang-javacript">//main.js
console.log(&quot;Hey… I’m a node.js app running in a container!!&quot;);
</code></pre>
<p>We then make sure our Dockerfile copies this source file into our container context by replacing our current <code>CMD [“cat”,”/etc/os-release”]</code> in our Dockerfile with the following.</p>
<pre><code class="lang-Dockerfile">FROM resin/raspberry-pi-alpine-node:slim
WORKDIR /usr/src/app
COPY . .
CMD [&quot;node&quot;, &quot;main.js&quot;]
</code></pre>
<p>This puts all the contents of our <code>myapp</code> directory into <code>/usr/src/app</code> in our running container and says we should start main.js when the container starts.</p>
<p>Alright, so we have a simple javascript container, but that’s pretty boring, let’s add some dependencies and complexity.  To add dependencies in node.js we need a package.json, the easiest way to whip up one is to just run <code>npm init</code> in the root of our <code>myapp</code> directory. After a nice little interactive dialog we have the following <code>package.json</code> in directory.</p>
<pre><code class="lang-json">{
  &quot;name&quot;: &quot;myapp&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;a simple hello world webserver&quot;,
  &quot;main&quot;: &quot;main.js&quot;,
  &quot;scripts&quot;: {
    &quot;test&quot;: &quot;echo \&quot;no tests yet\&quot;&quot;
  },
  &quot;repository&quot;: {
    &quot;type&quot;: &quot;git&quot;,
    &quot;url&quot;: &quot;none&quot;
  },
  &quot;author&quot;: &quot;Shaun Mulligan &lt;shaun@resin.io&gt;&quot;,
  &quot;license&quot;: &quot;ISC&quot;
}
</code></pre>
<p>Now it’s time to add some dependencies. For our little webserver, we will use the popular expressjs module. We can add it to the <code>package.json</code> after the <code>&quot;license&quot;: &quot;ISC&quot;</code>, so it now looks like this:</p>
<pre><code class="lang-json">{
  &quot;name&quot;: &quot;myapp&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;a simple hello world webserver&quot;,
  &quot;main&quot;: &quot;main.js&quot;,
  &quot;scripts&quot;: {
    &quot;test&quot;: &quot;echo \&quot;no tests yet\&quot;&quot;
  },
  &quot;repository&quot;: {
    &quot;type&quot;: &quot;git&quot;,
    &quot;url&quot;: &quot;none&quot;
  },
  &quot;author&quot;: &quot;Shaun Mulligan &lt;shaun@resin.io&gt;&quot;,
  &quot;license&quot;: &quot;ISC&quot;,
  &quot;dependencies&quot;: {
    &quot;express&quot;: &quot;^4.14.0&quot;
  }
}
</code></pre>
<p>Now all we need to do is add a few more lines of javacript to our main.js and we are off to the races.</p>
<pre><code class="lang-javacript">//main.js

var express = require(&#39;express&#39;);
var app = express();

// reply to request with &quot;Hello World!&quot;
app.get(&#39;/&#39;, function (req, res) {
  res.send(&quot;Hello World, I&#39;m a container running on resinOS!&quot;);
});

//start a server on port 80 and log its start to our console
var server = app.listen(80, function () {

  var port = server.address().port;
  console.log(&quot;Hey… I’m a node.js server running in a container and listening on port: &quot;, port);
});
</code></pre>
<p>Great, so now we are almost ready to go, but we want to make sure anytime we add a dependency to our <code>package.json</code> that we rebuild the container and install those dependencies. So to do this we need two things.</p>
<p>1.) We need to add <code>package.json</code> to our build triggers list, with an empty hash, like this:</p>
<pre><code>local_resinos:
  app-name: myapp
  build-triggers:
    - Dockerfile: 1327b0f9875d5c4bf7f2f36fad384c8481a00396830acd33c0af0e575648fe91
    - package.json:
</code></pre><p>And 2.) We then need to run a <code>npm install</code> in our build, so we add a few lines to our Dockerfile.</p>
<pre><code class="lang-Dockerfile">FROM resin/raspberry-pi-alpine-node:slim
WORKDIR /usr/src/app
COPY package.json package.json
RUN npm install
COPY . .
CMD [&quot;node&quot;, &quot;main.js&quot;]
</code></pre>
<p>We can now deploy our new webserver container again with <code>rdt</code>:</p>
<pre><code class="lang-bash">$ rdt push --source .
</code></pre>
<p>You should now be able to point your web browser on your laptop to the IP address of your device and see the &quot;Hello, World!&quot; message.</p>

        
      </section>
    </article>
  </div>
</div>

    </section>
    <section class="section section--inv footer">
  <div class="container">
    <div class="row">
      <ul class="footer__links">
        
<li class="nav-item">
  <a class="nav-link" data-track="link click" data-track-meta='{ "title": "Docs", "href": "/docs", "position": "nav" }' href="/docs">
    Docs
  </a>
</li>

<li class="nav-item">
  <a class="nav-link" data-track="link click" data-track-meta='{ "title": "Getting Started", "href": "/docs/raspberry-pi2/gettingstarted/", "position": "nav" }' href="/docs/raspberry-pi2/gettingstarted/">
    Getting Started
  </a>
</li>

<li class="nav-item">
  <a class="nav-link" data-track="link click" data-track-meta='{ "title": "Features", "href": "/#features", "position": "nav" }' href="/#features">
    Features
  </a>
</li>

<li class="nav-item">
  <a class="nav-link" data-track="link click" data-track-meta='{ "title": "Downloads", "href": "/#downloads", "position": "nav" }' href="/#downloads">
    Downloads
  </a>
</li>

<li class="nav-item">
  <a class="nav-link" data-track="link click" data-track-meta='{ "title": "Get Involved", "href": "/#milestones", "position": "nav" }' href="/#milestones">
    Get Involved
  </a>
</li>

<li class="nav-item">
  <!-- <a data-track="link click" data-track-attr='{ "title": "github", "href": "", "position": "nav" }' class="nav-link" href="https://github.com/resin-os/meta-resin">
    <i class="fa fa-github-alt fa--border fa-2"></i>
  </a> -->
  <a class="nav-link github-button" href="https://github.com/resin-os/meta-resin" data-style="mega" data-count-href="/resin-os/meta-resin/stargazers" data-count-api="/repos/resin-os/meta-resin#stargazers_count" data-count-aria-label="# stargazers on GitHub" aria-label="Star resin-os/meta-resin on GitHub">Star</a>
</li>

      </ul>
    </div>
    <hr class="section__hr section__hr--slim">
    <div class="footer__claim">
      <a data-track="link click" data-track-meta='{ "title": "logo", "href": "/"}' href="/">
        <img class="footer__claim__items" alt="{ repo.name }" src="/images/logos/project.png" srcset="/images/logos/project@2x.png 2x">
      </a>
      <span class="footer__claim__items">an open source project by</span>
      <a data-track="link click" data-track-meta='{ "title": "Resin.io", "href": "https://resin.io"}' target="_blank" href="https://resin.io"><img class="nav__claim__items" alt="Resin.io" src="/images/logos/company.png" srcset="/images/logos/company@2x.png 2x"></a>
    </div>
  </div>
</section>

    <!-- your browserified scripts -->
    <script src="/bundle.js?v=1.1"></script>
    <!-- These are client scripts the need to be conditionally loaded at buildtime -->

<script async defer id="github-bjs" src="https://buttons.github.io/buttons.js"></script>





<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-45671959-3', 'auto');
  ga('send', 'pageview');
</script>



<!-- start Mixpanel --><script type="text/javascript">(function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset people.set people.set_once people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
mixpanel.init('4d14434a0fbe8653eb9fac3e751a0766');</script><!-- end Mixpanel -->



<script>
  !function(g,s,q,r,d){r=g[r]=g[r]||function(){(r.q=r.q||[]).push(
  arguments)};d=s.createElement(q);q=s.getElementsByTagName(q)[0];
  d.src='//d1l6p2sc9645hc.cloudfront.net/tracker.js';q.parentNode.
  insertBefore(d,q)}(window,document,'script','_gs');
  _gs('GSN-588929-F');
</script>

<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

  </body>
</html>
